# rule: Component – Select
type: auto_attached
scope: **/*
---
## Overview
Short purpose and when-to-use guidance for **Select**.

## Anatomy
- Structure and slots (leading/trailing/media/actions/meta if applicable).

## Props (typed)
- List key props with types, defaults, and constraints.

## States
- Hover, focus, active, disabled, loading, invalid.

## Accessibility
- Roles, labels, keyboard, focus outline, ARIA attributes.

## Usage Examples
- Basic usage
- With slots (icon/text/secondary action)
- Edge cases (long text, truncation)

## Do / Don't
- Do: keep API surface small; reuse Foundations tokens.
- Don't: hardcode colors; expose unstable DOM structure.

## Notes
Merged documentation from repository and component docs (if present).

---

### Source Docs
# Select

## Visão geral

`Select` oferece um campo de selecção baseado no elemento `<select>`, proporcionando suporte móvel óptimo e estilo consistente entre navegadores【32041770826828†L10-L14】.  É adequado para selecções simples onde a renderização e a navegação nativas são suficientes.

## Funcionalidades

- **Elemento nativo**: usa `<select>` para garantir compatibilidade com leitores de ecrã e experiência móvel【32041770826828†L10-L11】.
- **Estilo consistente**: normaliza aparência entre diferentes browsers【32041770826828†L12-L13】.
- **Integração com formulários**: suporta validação e submissão nativas【32041770826828†L13-L15】.
- **Suporte a prefixo**: permite adicionar um elemento antes do select, como ícone ou texto【32041770826828†L15-L16】.
- **Variantes**: opções de estilo `default` e `minimal`【32041770826828†L15-L17】.
- **Validação**: estilo para estado inválido (`invalid`)【32041770826828†L15-L18】.

## Anatomia

```tsx
<SelectGroup>
  <SelectPrefix />
  <Select>
    <option>
  </Select>
</SelectGroup>
```【32041770826828†L21-L28】

Componentes:

- **Select**: campo principal que estende `<select>`【32041770826828†L34-L35】.
- **SelectGroup**: contêiner para agrupar o select e o prefixo【32041770826828†L51-L56】.
- **SelectPrefix**: elemento opcional antes do select; suporta `asChild`【32041770826828†L58-L68】.

## API (Select)

| Propriedade | Tipo | Predefinição | Descrição |
| --- | --- | --- | --- |
| **variant** | `'default'` ou `'minimal'` | `'default'` | Estilo visual do campo【32041770826828†L39-L41】. |
| **invalid** | `boolean` | `false` | Marca o campo como inválido, aplicando estilos de erro【32041770826828†L44-L46】. |

## API (SelectPrefix)

| Propriedade | Tipo | Descrição |
| --- | --- | --- |
| **asChild** | `boolean` | Quando `true`, permite que um elemento personalizado receba as propriedades do prefixo【32041770826828†L62-L68】. |

## Boas práticas

- **Escolha do componente**: para cenários com renderização personalizada, pesquisa ou selecção múltipla, use `Listbox` em vez de `Select`【32041770826828†L114-L119】.
- **Móvel**: em dispositivos móveis, o select nativo oferece a melhor experiência e adaptabilidade【32041770826828†L122-L124】.
- **Integração com formulários**: utilize os atributos nativos `required`, `name` e `invalid` para validação e submissão【32041770826828†L126-L131】.
- **Acessibilidade**: forneça sempre um `label` visível ou `aria-label`; agrupe selects relacionados com `fieldset` e `legend`【32041770826828†L132-L135】.

## Source Snapshot
_Synced from foundations-main (read-only)._

**src/foundations/ui/select/select.tsx**

```tsx
"use client";

import { VariantProps } from "cva";

import {
  InputGroup,
  InputPrefix,
  inputStyle,
} from "@/foundations/ui/input/input";
import { cn } from "@/lib/utils";

interface SelectProps extends React.ComponentPropsWithRef<"select"> {
  invalid?: boolean;
  variant?: VariantProps<typeof inputStyle>["variant"];
}

const Select = ({ className, invalid, variant, ...props }: SelectProps) => {
  return (
    <select
      data-invalid={invalid}
      className={cn(
        inputStyle({ variant }),
        "appearance-none bg-size-[1em] bg-position-[right_--spacing(2)_center] bg-no-repeat pr-10",
        'bg-[url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBmaWxsPSJibGFjayIgZD0iTTMuNyA1LjNsNC4zIDQuMyA0LjMtNC4zLjcuNy01IDUtNS01eiIvPjwvc3ZnPg==")]',
        'dark:bg-[url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBmaWxsPSJ3aGl0ZSIgZD0iTTMuNyA1LjNsNC4zIDQuMyA0LjMtNC4zLjcuNy01IDUtNS01eiIvPjwvc3ZnPg==")]',
        className
      )}
      {...props}
    />
  );
};

const SelectGroup = InputGroup;

const SelectPrefix = InputPrefix;

export { Select, SelectGroup, SelectPrefix };

```

**src/foundations/ui/select/examples/select-prefix.preview.tsx**

```tsx
import { UserIcon } from "@phosphor-icons/react/dist/ssr";

import {
  Select,
  SelectGroup,
  SelectPrefix,
} from "@/foundations/ui/select/select";

export default function SelectPrefixPreview() {
  return (
    <div className="w-90">
      <SelectGroup>
        <SelectPrefix>
          <UserIcon />
        </SelectPrefix>
        <Select>
          <option value="1">Option 1</option>
          <option value="2">Option 2</option>
          <option value="3">Option 3</option>
        </Select>
      </SelectGroup>
    </div>
  );
}

```

**src/foundations/ui/select/examples/select-minimal.preview.tsx**

```tsx
import { Select } from "@/foundations/ui/select/select";

export default function SelectMinimalPreview() {
  return (
    <div className="w-90">
      <Select variant="minimal">
        <option value="1">Option 1</option>
        <option value="2">Option 2</option>
        <option value="3">Option 3</option>
      </Select>
    </div>
  );
}

```

**src/foundations/ui/select/examples/select-disabled.preview.tsx**

```tsx
import { Select } from "@/foundations/ui/select/select";

export default function SelectDisabledPreview() {
  return (
    <div className="w-90">
      <Select disabled>
        <option value="1">Option 1</option>
        <option value="2">Option 2</option>
        <option value="3">Option 3</option>
      </Select>
    </div>
  );
}

```

**src/foundations/ui/select/examples/select-invalid.preview.tsx**

```tsx
import { Select } from "@/foundations/ui/select/select";

export default function SelectInvalidPreview() {
  return (
    <div className="w-90">
      <Select invalid>
        <option value="1">Option 1</option>
        <option value="2">Option 2</option>
        <option value="3">Option 3</option>
      </Select>
    </div>
  );
}

```

**src/foundations/ui/select/examples/select.preview.tsx**

```tsx
import { Select } from "@/foundations/ui/select/select";

export default function SelectPreview() {
  return (
    <div className="w-90">
      <Select>
        <option value="1">Option 1</option>
        <option value="2">Option 2</option>
        <option value="3">Option 3</option>
      </Select>
    </div>
  );
}

```
