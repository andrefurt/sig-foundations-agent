# rule: Component – Dialog
type: intelligent
scope: **/*
---
## Overview
Short purpose and when-to-use guidance for **Dialog**.

## Anatomy
- Structure and slots (leading/trailing/media/actions/meta if applicable).

## Props (typed)
- List key props with types, defaults, and constraints.

## States
- Hover, focus, active, disabled, loading, invalid.

## Accessibility
- Roles, labels, keyboard, focus outline, ARIA attributes.

## Usage Examples
- Basic usage
- With slots (icon/text/secondary action)
- Edge cases (long text, truncation)

## Do / Don't
- Do: keep API surface small; reuse Foundations tokens.
- Don't: hardcode colors; expose unstable DOM structure.

## Notes
Merged documentation from repository and component docs (if present).

---

### Source Docs
# Dialog

## Visão geral

`Dialog` cria uma janela modal que se sobrepõe ao conteúdo principal para capturar a atenção do utilizador.  Baseia‑se em `Modal`, acrescentando estrutura e componentes específicos para títulos, descrições e acções【655322354265870†L17-L23】.

## Funcionalidades principais

- **Sobreposição modal**: apresenta um backdrop e bloqueia a interação com o conteúdo por trás【655322354265870†L17-L23】.
- **Gestão de foco**: prende o foco dentro do diálogo e restaura‑o ao elemento anterior após fechar【655322354265870†L17-L23】.
- **Posicionamento flexível**: permite alinhar o conteúdo no centro ou no topo【655322354265870†L19-L21】.
- **Suporte a modos controlado e não controlado**: pode gerir o estado internamente ou receber `open` e `onOpenChange` externos【655322354265870†L20-L21】.
- **Acções personalizáveis**: fornece área específica para botões de acção (confirmar, cancelar)【655322354265870†L22-L23】.

## Dependências

- Usa o componente base `Modal`【655322354265870†L9-L13】.

## Anatomia

```tsx
<Dialog>
  <DialogTrigger />
  <DialogContent>
    <DialogTitle />
    <DialogClose />
    <DialogDescription />
    <DialogActions />
  </DialogContent>
</Dialog>
```【655322354265870†L26-L35】

Subcomponentes:

- **DialogTrigger**: abre o diálogo; estende `ModalTrigger`【655322354265870†L44-L47】.
- **DialogContent**: container do conteúdo, estende `ModalContent`【655322354265870†L48-L50】.
- **DialogTitle**: cabeçalho; estende `ModalTitle`【655322354265870†L62-L64】.
- **DialogDescription**: texto explicativo; estende `ModalDescription`【655322354265870†L66-L68】.
- **DialogActions**: contêiner para botões de acção; estende `div`【655322354265870†L70-L76】.
- **DialogClose**: botão de fechar; estende `ModalClose`【655322354265870†L78-L88】.

## API

| Propriedade | Tipo | Predefinição | Descrição |
| --- | --- | --- | --- |
| **align** (DialogContent) | `'center'` ou `'top'` | `'center'` | Define a posição vertical do diálogo【655322354265870†L54-L58】. |
| **asChild** (DialogClose) | `boolean` | – | Permite que o botão de fechar seja renderizado como filho, absorvendo as propriedades【655322354265870†L83-L88】. |
| **open** | `boolean` | – | Controla o estado aberto (modo controlado). |
| **onOpenChange** | `(open: boolean) => void` | – | Callback quando o estado muda. |

## Boas práticas

- **Estrutura de conteúdo**: inclua sempre um título claro e acções descritivas (evite “OK/Cancelar”)【655322354265870†L125-L130】.
- **Considerações móveis**: teste o diálogo em diferentes ecrãs, garantindo que a área de acções e o conteúdo sejam fáceis de interagir【655322354265870†L131-L135】.
- **Performance**: carregue conteúdo pesado de forma preguiçosa (lazy load) e limpe recursos ao fechar o diálogo【655322354265870†L137-L140】.

## Source Snapshot
_Synced from foundations-main (read-only)._

**src/foundations/ui/dialog/dialog.tsx**

```tsx
"use client";

import {
  Modal,
  ModalClose,
  ModalContent,
  ModalDescription,
  ModalTitle,
  ModalTrigger,
} from "@/foundations/ui/modal/modal";
import { cn } from "@/lib/utils";

type DialogProps = React.ComponentProps<typeof Modal>;

const Dialog = ({ ...props }: DialogProps) => {
  return <Modal {...props} />;
};

interface DialogContentProps extends React.ComponentProps<typeof ModalContent> {
  align?: "center" | "top";
}

const DialogContent = ({
  className,
  children,
  align = "center",
  ...props
}: DialogContentProps) => {
  return (
    <ModalContent
      className={cn(
        "bg-background border-border m-auto w-full max-w-md rounded-3xl border p-4 shadow-lg",
        "max-h-[calc(100svh-2rem)] overflow-y-auto backdrop:bg-black/20 backdrop:backdrop-blur-sm",
        "transition-all duration-300 backdrop:transition-all motion-reduce:transition-none motion-reduce:backdrop:transition-none",
        "not-data-[status=open]:translate-y-2 not-data-[status=open]:scale-95 not-data-[status=open]:opacity-0 not-data-[status=open]:duration-150 not-data-[status=open]:backdrop:opacity-0",
        align === "top" && "mt-4",
        className
      )}
      {...props}
    >
      {children}
    </ModalContent>
  );
};

const DialogTrigger = ModalTrigger;

const DialogClose = ModalClose;

const DialogTitle = ({
  children,
  className,
  ...props
}: React.ComponentProps<typeof ModalTitle>) => {
  return (
    <ModalTitle className={cn("pb-2 font-semibold", className)} {...props}>
      {children}
    </ModalTitle>
  );
};

const DialogDescription = ({
  children,
  className,
  ...props
}: React.ComponentProps<typeof ModalDescription>) => {
  return (
    <ModalDescription className={cn("pb-2", className)} {...props}>
      {children}
    </ModalDescription>
  );
};

const DialogActions = ({
  className,
  children,
  ...props
}: React.ComponentPropsWithRef<"div">) => (
  <div
    className={cn(
      "flex flex-col gap-2 pt-4 sm:flex-row sm:justify-start",
      className
    )}
    {...props}
  >
    {children}
  </div>
);

export {
  Dialog,
  DialogActions,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogTitle,
  DialogTrigger,
};

```

**src/foundations/ui/dialog/examples/dialog-tall.preview.tsx**

```tsx
"use client";

import { Button } from "@/foundations/ui/button/button";
import {
  Dialog,
  DialogActions,
  DialogClose,
  DialogContent,
  DialogTitle,
  DialogTrigger,
} from "@/foundations/ui/dialog/dialog";

export default function DialogTallPreview() {
  return (
    <Dialog>
      <DialogTrigger asChild>
        <Button variant="outline">Open Tall Dialog</Button>
      </DialogTrigger>
      <DialogContent>
        <DialogTitle>Very Tall Dialog</DialogTitle>
        <div>
          {Array(20)
            .fill(null)
            .map((_, index) => (
              <p key={index} className="mb-4">
                This is paragraph {index + 1}. Lorem ipsum dolor sit amet,
                consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut
                labore et dolore magna aliqua.
              </p>
            ))}
        </div>
        <DialogActions>
          <DialogClose asChild>
            <Button variant="outline">Close</Button>
          </DialogClose>
        </DialogActions>
      </DialogContent>
    </Dialog>
  );
}

```

**src/foundations/ui/dialog/examples/dialog-arbitrary.preview.tsx**

```tsx
import { XIcon } from "@phosphor-icons/react/dist/ssr";

import { Button } from "@/foundations/ui/button/button";
import {
  Dialog,
  DialogClose,
  DialogContent,
  DialogTrigger,
} from "@/foundations/ui/dialog/dialog";

export default function DialogArbitraryPreview() {
  return (
    <Dialog>
      <DialogTrigger asChild>
        <Button variant="outline">Open Dialog</Button>
      </DialogTrigger>
      <DialogContent className="p-0">
        <DialogClose className="absolute top-3 right-3" asChild>
          <Button variant="outline" size="sm" square>
            <XIcon className="size-4" />
          </Button>
        </DialogClose>
        <div className="flex flex-col items-center rounded-2xl p-6">
          <div className="border-border bg-background-secondary mb-4 size-24 rounded-full border" />
          <h2 className="text-xl font-semibold">John Doe</h2>
          <p className="text-foreground-secondary mb-4 text-sm">
            Software Engineer
          </p>
          <div className="mb-6 flex space-x-4">
            <div className="text-center">
              <p className="font-semibold">1.2k</p>
              <p className="text-foreground-secondary text-xs">Followers</p>
            </div>
            <div className="text-center">
              <p className="font-semibold">3.4k</p>
              <p className="text-foreground-secondary text-xs">Following</p>
            </div>
            <div className="text-center">
              <p className="font-semibold">567</p>
              <p className="text-foreground-secondary text-xs">Posts</p>
            </div>
          </div>
          <Button>Follow</Button>
        </div>
      </DialogContent>
    </Dialog>
  );
}

```

**src/foundations/ui/dialog/examples/dialog-top.preview.tsx**

```tsx
"use client";

import { Button } from "@/foundations/ui/button/button";
import {
  Dialog,
  DialogActions,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogTitle,
  DialogTrigger,
} from "@/foundations/ui/dialog/dialog";

export default function DialogTopPreview() {
  return (
    <Dialog>
      <DialogTrigger asChild>
        <Button variant="outline">Open at the top</Button>
      </DialogTrigger>
      <DialogContent align="top">
        <DialogTitle>Unsaved changes</DialogTitle>
        <DialogDescription>
          Are you sure you want to leave this page?
        </DialogDescription>
        <DialogActions>
          <Button>Confirm</Button>
          <DialogClose asChild>
            <Button variant="outline">Cancel</Button>
          </DialogClose>
        </DialogActions>
      </DialogContent>
    </Dialog>
  );
}

```

**src/foundations/ui/dialog/examples/dialog-destructive.preview.tsx**

```tsx
"use client";

import { Button } from "@/foundations/ui/button/button";
import {
  Dialog,
  DialogActions,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogTitle,
  DialogTrigger,
} from "@/foundations/ui/dialog/dialog";

export default function DialogDestructivePreview() {
  return (
    <Dialog>
      <DialogTrigger asChild>
        <Button variant="destructive">Delete</Button>
      </DialogTrigger>
      <DialogContent className="w-80">
        <DialogTitle>Are you sure?</DialogTitle>
        <DialogDescription>
          This action cannot be undone. This will permanently delete your
          account and remove your data from our servers.
        </DialogDescription>
        <DialogActions>
          <Button variant="destructive">Delete everything</Button>
          <DialogClose asChild>
            <Button variant="outline">Cancel</Button>
          </DialogClose>
        </DialogActions>
      </DialogContent>
    </Dialog>
  );
}

```

**src/foundations/ui/dialog/examples/dialog.preview.tsx**

```tsx
"use client";

import { Button } from "@/foundations/ui/button/button";
import {
  Dialog,
  DialogActions,
  DialogClose,
  DialogContent,
  DialogDescription,
  DialogTitle,
  DialogTrigger,
} from "@/foundations/ui/dialog/dialog";

export default function DialogPreview() {
  return (
    <Dialog>
      <DialogTrigger asChild>
        <Button variant="outline">Open</Button>
      </DialogTrigger>
      <DialogContent className="w-80">
        <DialogTitle>Unsaved changes</DialogTitle>
        <DialogDescription>
          Are you sure you want to leave this page?
        </DialogDescription>
        <DialogActions>
          <DialogClose asChild>
            <Button>Confirm</Button>
          </DialogClose>
          <DialogClose asChild>
            <Button variant="outline">Cancel</Button>
          </DialogClose>
        </DialogActions>
      </DialogContent>
    </Dialog>
  );
}

```
