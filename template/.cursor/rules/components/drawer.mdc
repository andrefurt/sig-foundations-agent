# rule: Component – Drawer
type: auto_attached
scope: **/*
---
## Overview
Short purpose and when-to-use guidance for **Drawer**.

## Anatomy
- Structure and slots (leading/trailing/media/actions/meta if applicable).

## Props (typed)
- List key props with types, defaults, and constraints.

## States
- Hover, focus, active, disabled, loading, invalid.

## Accessibility
- Roles, labels, keyboard, focus outline, ARIA attributes.

## Usage Examples
- Basic usage
- With slots (icon/text/secondary action)
- Edge cases (long text, truncation)

## Do / Don't
- Do: keep API surface small; reuse Foundations tokens.
- Don't: hardcode colors; expose unstable DOM structure.

## Notes
Merged documentation from repository and component docs (if present).

---

### Source Docs
# Drawer

## Visão geral

`Drawer` é um painel deslizante que surge a partir da lateral do ecrã, sobrepondo o conteúdo principal.  É ideal para apresentar menus, formulários rápidos ou detalhes sem sair da página【977896929014017†L1-L3】.

## Funcionalidades principais

- **Sobreposição modal**: cria um backdrop e bloqueia a interação com o restante da interface【977896929014017†L15-L17】.
- **Gestão de foco**: captura o foco e impede que elementos externos recebam foco acidental【977896929014017†L15-L17】.
- **Posicionamento flexível**: painel desliza, normalmente a partir da lateral; herda funcionalidades de posicionamento do `Modal`【977896929014017†L15-L19】.
- **Modos controlado e não controlado**: permite controlar o estado aberto via props ou de forma interna【977896929014017†L18-L19】.
- **Estrutura componível**: fornece subcomponentes para criar cabeçalhos, títulos, descrições e acções【977896929014017†L23-L36】.

## Dependências

- Baseia‑se no `Modal` para funcionalidades de acessibilidade e gestão de foco【977896929014017†L7-L10】.

## Anatomia

```tsx
<Drawer>
  <DrawerTrigger />
  <DrawerContent>
    <DrawerHeader>
      <DrawerTitle />
    </DrawerHeader>
    <DrawerDescription />
    <DrawerActions>
      <DrawerClose />
    </DrawerActions>
  </DrawerContent>
</Drawer>
```【977896929014017†L23-L36】

Subcomponentes:

- **DrawerTrigger**: botão que abre o drawer【977896929014017†L49-L51】.
- **DrawerContent**: container que estende `ModalContent`【977896929014017†L45-L48】.
- **DrawerHeader**, **DrawerTitle**, **DrawerDescription**: elementos estruturais para cabeçalhos e descrição【977896929014017†L45-L63】.
- **DrawerActions**: área para botões de acção【977896929014017†L69-L71】.
- **DrawerClose**: botão para fechar o painel【977896929014017†L53-L55】.

## Boas práticas

- **Estrutura de conteúdo**: inclua um título claro e botões com rótulos descritivos (evite “OK/Cancelar”)【977896929014017†L90-L94】.
- **Performance**: carregue conteúdos pesados de forma preguiçosa e liberte recursos quando o painel for fechado【977896929014017†L95-L98】.
- **Navegação**: permita que o utilizador feche o drawer com `Esc` ou clicando fora do painel; mantenha consistência com o comportamento de modais.

## Source Snapshot
_Synced from foundations-main (read-only)._

**src/foundations/ui/drawer/drawer.tsx**

```tsx
import {
  Modal,
  ModalClose,
  ModalContent,
  ModalDescription,
  ModalTitle,
  ModalTrigger,
} from "@/foundations/ui/modal/modal";
import { cn } from "@/lib/utils";

type DrawerProps = React.ComponentProps<typeof Modal>;

const Drawer = (props: DrawerProps) => {
  return <Modal {...props} />;
};

type DrawerContentProps = React.ComponentProps<typeof ModalContent>;

const DrawerContent = ({
  className,
  children,
  ...props
}: DrawerContentProps) => {
  return (
    <ModalContent
      className={cn(
        "[--drawer-p:--spacing(4)]",
        "bg-background-high border-border mx-auto flex w-full max-w-screen flex-col overflow-x-hidden! overflow-y-auto border p-(--drawer-p) *:shrink-0",
        "has-[[data-drawer-actions]:last-child]:pb-0 has-[[data-modal-focus-catcher]:first-child+[data-drawer-header],[data-drawer-header]:first-child]:pt-0",
        "backdrop:bg-black/20 backdrop:backdrop-blur-sm not-data-[status=open]:backdrop:opacity-0",
        // desktop
        "md:mr-0 md:h-full md:max-h-screen md:w-full md:max-w-lg md:not-data-[status=open]:translate-x-full",
        // mobile
        "min-h-[50svh] max-md:mb-0 max-md:max-h-[calc(100svh-(--spacing(16)))] max-md:w-full max-md:rounded-t-xl max-md:not-data-[status=open]:translate-y-full",
        // animation props
        "ease-emphasized-decelerate not-data-[status=open]:ease-emphasized-accelerate transition-transform",
        "backdrop:transition-opacity backdrop:ease-in-out",
        "motion-reduce:transition-none motion-reduce:backdrop:transition-none",
        "duration-400 not-data-[status=open]:duration-250 not-data-[status=open]:backdrop:delay-150 not-data-[status=open]:backdrop:duration-200",
        className
      )}
      {...props}
    >
      {children}
    </ModalContent>
  );
};

const DrawerTrigger = ModalTrigger;

const DrawerClose = ModalClose;

const DrawerTitle = ({
  children,
  className,
  ...props
}: React.ComponentProps<typeof ModalTitle>) => {
  return (
    <ModalTitle className={cn("font-semibold", className)} {...props}>
      {children}
    </ModalTitle>
  );
};

const DrawerDescription = ({
  children,
  className,
  ...props
}: React.ComponentProps<typeof ModalDescription>) => {
  return (
    <ModalDescription className={cn("pb-2", className)} {...props}>
      {children}
    </ModalDescription>
  );
};

const DrawerBleed = ({
  className,
  ...props
}: React.ComponentPropsWithRef<"div">) => {
  return <div className={cn("-mx-(--drawer-p)", className)} {...props} />;
};

const DrawerHeader = ({
  className,
  children,
  ...props
}: React.ComponentPropsWithRef<"div">) => {
  return (
    <DrawerBleed
      className={cn(
        "bg-background border-border sticky top-0 z-10 mb-(--drawer-p) border-b p-(--drawer-p)",
        className
      )}
      {...props}
      data-drawer-header=""
    >
      {children}
    </DrawerBleed>
  );
};

const DrawerActions = ({
  className,
  children,
  ...props
}: React.ComponentPropsWithRef<"div">) => {
  return (
    <DrawerBleed
      className={cn(
        "bg-background border-border sticky bottom-0 mt-auto flex gap-2 border-t p-(--drawer-p)",
        className
      )}
      {...props}
      data-drawer-actions=""
    >
      {children}
    </DrawerBleed>
  );
};

export {
  Drawer,
  DrawerActions,
  DrawerBleed,
  DrawerClose,
  DrawerContent,
  DrawerDescription,
  DrawerHeader,
  DrawerTitle,
  DrawerTrigger,
};

```

**src/foundations/ui/drawer/examples/drawer-tall-content.preview.tsx**

```tsx
"use client";

import { Button } from "@/foundations/ui/button/button";
import {
  Drawer,
  DrawerActions,
  DrawerClose,
  DrawerContent,
  DrawerHeader,
  DrawerTitle,
  DrawerTrigger,
} from "@/foundations/ui/drawer/drawer";

const DrawerTallContent = () => {
  return (
    <Drawer>
      <DrawerTrigger asChild>
        <Button>Open Drawer</Button>
      </DrawerTrigger>
      <DrawerContent>
        <DrawerHeader>
          <DrawerTitle>Drawer Title</DrawerTitle>
        </DrawerHeader>
        {Array(24)
          .fill(null)
          .map((_, index) => (
            <p key={index} className="mb-4">
              This is paragraph {index + 1}.
            </p>
          ))}
        <DrawerActions className="flex gap-2">
          <DrawerClose asChild>
            <Button className="grow">Submit</Button>
          </DrawerClose>
          <DrawerClose asChild>
            <Button className="grow" variant="outline">
              Close
            </Button>
          </DrawerClose>
        </DrawerActions>
      </DrawerContent>
    </Drawer>
  );
};

export default DrawerTallContent;

```

**src/foundations/ui/drawer/examples/drawer-controlled.preview.tsx**

```tsx
"use client";

import { useState } from "react";

import { Button } from "@/foundations/ui/button/button";
import {
  Drawer,
  DrawerActions,
  DrawerContent,
  DrawerHeader,
  DrawerTitle,
} from "@/foundations/ui/drawer/drawer";

const DrawerControlled = () => {
  const [open, setOpen] = useState(false);
  const [isSubmitting, setIsSubmitting] = useState(false);

  const handleSubmit = () => {
    setIsSubmitting(true);

    setTimeout(() => {
      setIsSubmitting(false);
      setOpen(false);
    }, 3000);
  };

  const handleCancel = () => {
    setOpen(false);
  };

  return (
    <Drawer
      open={open}
      onOpenChange={(isOpen) => setOpen(isSubmitting ? true : isOpen)}
    >
      <Button onClick={() => setOpen(true)}>Open Drawer</Button>
      <DrawerContent inert={isSubmitting}>
        <DrawerHeader>
          <DrawerTitle>Drawer Title</DrawerTitle>
        </DrawerHeader>
        <p>Drawer dangerous content goes here.</p>
        <DrawerActions className="flex gap-2">
          <Button
            className="grow"
            variant="destructive"
            isLoading={isSubmitting}
            onClick={handleSubmit}
            disabled={isSubmitting}
          >
            Delete Everything
          </Button>
          <Button
            className="grow"
            variant="outline"
            onClick={handleCancel}
            disabled={isSubmitting}
          >
            I&apos;m not sure
          </Button>
        </DrawerActions>
      </DrawerContent>
    </Drawer>
  );
};

export default DrawerControlled;

```

**src/foundations/ui/drawer/examples/drawer.preview.tsx**

```tsx
"use client";

import { Button } from "@/foundations/ui/button/button";
import {
  Drawer,
  DrawerActions,
  DrawerClose,
  DrawerContent,
  DrawerDescription,
  DrawerHeader,
  DrawerTitle,
  DrawerTrigger,
} from "@/foundations/ui/drawer/drawer";

const DrawerPreview = () => {
  return (
    <Drawer>
      <DrawerTrigger asChild>
        <Button>Open Drawer</Button>
      </DrawerTrigger>
      <DrawerContent>
        <DrawerHeader>
          <DrawerTitle>Drawer Title</DrawerTitle>
        </DrawerHeader>
        <DrawerDescription>Drawer content goes here.</DrawerDescription>
        <DrawerActions className="flex gap-2">
          <DrawerClose asChild>
            <Button variant="primary" className="grow">
              Submit
            </Button>
          </DrawerClose>
          <DrawerClose asChild>
            <Button className="grow" variant="outline">
              Close
            </Button>
          </DrawerClose>
        </DrawerActions>
      </DrawerContent>
    </Drawer>
  );
};

export default DrawerPreview;

```
